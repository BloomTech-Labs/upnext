webpackJsonp([20],{293:function(e,t,n){var s=n(4)(n(294),n(295),null,null);e.exports=s.exports},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(77);t.default={mixins:[s.a]}},295:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("mt-field",{attrs:{label:e.t("login.mixin.label.first")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("mt-field",{attrs:{label:e.t("login.mixin.label.second"),type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),n("mt-cell",{attrs:{title:""}},[n("mt-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:e.login}},[e._v(e._s(e.t("login.mixin.button.first")))])],1)],1)},staticRenderFns:[]}},77:function(e,t,n){"use strict";var s=n(13),r=n.n(s),o=n(14),i=n.n(o),a=n(27),c=n.n(a),u=n(16);t.a={computed:{user:{get:function(){return this.$store.state.User.user}},name:{get:function(){return this.$store.state.User.user.name},set:function(e){this.$store.commit("SET_USER_NAME",e)}},password:{get:function(){return this.$store.state.User.user.password},set:function(e){this.$store.commit("SET_USER_PASSWORD",e)}}},methods:c()({login:function(){var e=this;return i()(r.a.mark(function t(){var n,s,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loginUser",e.user);case 2:n=t.sent,s=n.token,o=n.cookie,window.localStorage.setItem("token",s),e.setCookie("user",o,604800),e.setIsUserAuthenticated(!0),e.$emit("userLoggedIn"),e.$router.push({name:"TestEvents"});case 10:case"end":return t.stop()}},t,e)}))()},setCookie:function(e,t,n){var s=n?"; expires="+new Date((new Date).getTime()+1e3*n).toGMTString():"";document.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"}},Object(u.c)({setIsUserAuthenticated:"SET_IS_USER_AUTHENTICATED"}))}}});